{"version":3,"sources":["webpack:///./src/views/Request.vue","webpack:///./src/views/Request.vue?a27a"],"names":["render","__scopeId"],"mappings":"qNAAyF,eAA+B,cAAvB,kBAAc,G,EAAuC,eAAyB,cAAjB,YAAQ,G,EAAyC,eAAuB,cAAf,UAAM,G,EAAoD,eAAqB,cAAb,QAAI,G,EAA7R,iB,GAAqW,MAAM,gB,EAAsB,eAAkC,SAAzB,IAAE,UAAS,UAAM,G,EAA6D,eAAsC,UAA5B,MAAI,QAAO,YAAQ,G,EAAkB,eAA0C,UAAhC,MAAI,aAAY,WAAO,G,EAAkB,eAAuC,UAA7B,MAAI,UAAS,WAAO,G,EAAkB,eAA4C,UAAlC,MAAI,WAAU,eAAW,G,GAA7oB,MAAq2B,MAAI,0B,sJAAv1B,W,iBAAlB,eAA4B,GAA5B,SAAmE,W,iBAApC,eAAszB,GAAr1B,MAAyC,MAAM,SAA6B,S,CAA5E,WAAsF,iBAAwD,CAAxD,eAAwD,UAArD,EAAzF,eAAwH,IAAC,eAAG,UAAQ,KAAG,KAAY,eAAoD,UAAjD,EAAtJ,eAA+K,IAAC,eAAG,UAAQ,OAAK,KAAY,eAA6D,UAA1D,EAA/M,eAAsO,IAAC,eAAG,WAAS,UAAQ,SAAM,KAAa,eAA6E,UAA1E,EAAjR,EAAuS,eAAgD,GAAnC,KAAM,UAAQ,Q,mBAA8B,eAAiV,MAAjV,EAAiV,CAAhT,E,eAAyC,eAA4P,UAApP,GAAG,SAArb,qDAAuc,SAAM,K,CAAW,EAA+C,EAAmD,EAAgD,G,cAAnK,cAA+O,eAA2D,UAAnD,MAAM,aAAc,QAAK,8BAAE,yCAAQ,WAA+D,c,iBAA1C,eAAuE,UAA7zB,MAA8vB,MAAM,MAAO,QAAK,8BAAE,yCAA0B,aAA5yB,kC,iBAAw1B,eAA4E,KAA5E,EAA0C,aAAU,eAAG,MAAK,cAAW,O,okDCG/5B,EAAOA,OAASA,EAChB,EAAOC,UAAY,kBAEJ","file":"js/chunk-2d0a4783.f21d6081.js","sourcesContent":["<template>\r  <app-loader v-if=\"loading\"/>\r  <app-page title=\"Заявка\" v-else-if=\"request\" back>\r    <p><strong>Имя владельца:</strong> {{ request.fio }}</p>\r    <p><strong>Телефон:</strong> {{ request.phone }}</p>\r    <p><strong>Сумма:</strong> {{ currency(request.amount) }}</p>\r    <p><strong>Тип:</strong> <app-status :type=\"request.status\"></app-status></p>\r    <div class=\"form-control\">\r      <label for=\"status\">Статус</label>\r      <select id=\"status\" v-model=\"status\">\r        <option value=\"done\">Завершен</option>\r        <option value=\"cancelled\">Отменен</option>\r        <option value=\"active\">Активен</option>\r        <option value=\"pending\">Выполняется</option>\r      </select>\r    </div>\r    <button class=\"btn danger\" @click=\"remove\">Удалить</button>\r    <button class=\"btn\" @click=\"update\" v-if=\"hasChanges\">Обновить</button>\r    \r    \r  </app-page>\r  <h3 v-else class=\"text-center text-white\"> Заявки с {{ id }} не найдено</h3>\r</template>\r\r<script>\rimport AppPage from '../components/ui/AppPage'\rimport { useRoute, useRouter } from 'vue-router'\rimport { computed, onMounted, ref } from 'vue'\rimport { useStore } from 'vuex'\rimport AppLoader from '../components/ui/AppLoader'\rimport AppStatus from '../components/ui/AppStatus'\rimport { currency } from '../utils/currency'\r\rexport default {\r  name: 'Request',\r  setup () {\r    const loading = ref(false)\r    const request = ref()\r    const route = useRoute()\r    const store = useStore()\r    const router = useRouter()\r    const status = ref()\r    \r    onMounted(async () => {\r      loading.value = true\r      request.value = await store.dispatch('request/loadById', route.params.id)\r      status.value = request.value?.status\r      loading.value = false\r    })\r    \r    const hasChanges = computed(() => status.value !== request.value.status)\r    \r    const remove = async () => {\r      await store.dispatch('request/remove', route.params.id)\r      await router.push('/')\r    }\r    \r    const update = async () => {\r      const data = {\r        ...request.value,\r        status: status.value,\r        id: route.params.id\r      }\r      await store.dispatch('request/update', data)\r      request.value.status = status.value\r    }\r    \r    return {\r      request,\r      loading,\r      id: route.params.id,\r      currency,\r      remove,\r      update,\r      hasChanges,\r      status\r    }\r  },\r  components: { AppPage, AppLoader, AppStatus },\r}\r</script>\r\r<style scoped>\r\r</style>\r","import { render } from \"./Request.vue?vue&type=template&id=dca28264&scoped=true\"\nimport script from \"./Request.vue?vue&type=script&lang=js\"\nexport * from \"./Request.vue?vue&type=script&lang=js\"\nscript.render = render\nscript.__scopeId = \"data-v-dca28264\"\n\nexport default script"],"sourceRoot":""}