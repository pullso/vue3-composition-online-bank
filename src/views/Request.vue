<template>  <app-loader v-if="loading"/>  <app-page title="Заявка" v-else-if="request" back>    <p><strong>Имя владельца:</strong> {{ request.fio }}</p>    <p><strong>Телефон:</strong> {{ request.phone }}</p>    <p><strong>Сумма:</strong> {{ currency(request.amount) }}</p>    <p><strong>Тип:</strong> <app-status :type="request.status"></app-status></p>    <div class="form-control">      <label for="status">Статус</label>      <select id="status" v-model="status">        <option value="done">Завершен</option>        <option value="cancelled">Отменен</option>        <option value="active">Активен</option>        <option value="pending">Выполняется</option>      </select>    </div>    <button class="btn danger" @click="remove">Удалить</button>    <button class="btn" @click="update" v-if="hasChanges">Обновить</button>          </app-page>  <h3 v-else class="text-center text-white"> Заявки с {{ id }} не найдено</h3></template><script>import AppPage from '../components/ui/AppPage'import { useRoute, useRouter } from 'vue-router'import { computed, onMounted, ref } from 'vue'import { useStore } from 'vuex'import AppLoader from '../components/ui/AppLoader'import AppStatus from '../components/ui/AppStatus'import { currency } from '../utils/currency'export default {  name: 'Request',  setup () {    const loading = ref(false)    const request = ref()    const route = useRoute()    const store = useStore()    const router = useRouter()    const status = ref()        onMounted(async () => {      loading.value = true      request.value = await store.dispatch('request/loadById', route.params.id)      status.value = request.value?.status      loading.value = false    })        const hasChanges = computed(() => status.value !== request.value.status)        const remove = async () => {      await store.dispatch('request/remove', route.params.id)      await router.push('/')    }        const update = async () => {      const data = {        ...request.value,        status: status.value,        id: route.params.id      }      await store.dispatch('request/update', data)      request.value.status = status.value    }        return {      request,      loading,      id: route.params.id,      currency,      remove,      update,      hasChanges,      status    }  },  components: { AppPage, AppLoader, AppStatus },}</script><style scoped></style>